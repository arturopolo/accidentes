<!DOCTYPE html>
<div id="chart"></div>
<script src="https://d3js.org/d3.v4.min.js"></script>
    <script>
        var myData =[
    { name: "John", age: 35, height: 1.9 },
    { name: "Mafe", age: 35,  height: 1.65},
    { name: "Edwin", age: 37, height: 1.85},
    { name: "Eliza", age: 32, height: 1.7},
    { name: "David", age: 3, height: 0.9},
    { name: "Santi", age: 7, height: 1.32},  
    { name: "Luchi", age: 1, height: 0.30},    
    ]
    var width = 400,
    height = 400,
    barH = 20,
    margin = {left: 80, right: 20, top: 40, bottom: 20},
    chart = d3.select("#chart")
        .append("svg")
        .attr("width", width )
        .attr("height", height)
        .append("g")
        .attr("transform", "translate("+ margin.left + "," + margin.top + ")"),
   xAxis = chart.append("g")
    .attr("class", "x axis"),
   yAxis = chart.append("g")
    .attr("class", "y axis"),
   r = 5,
   widthScale = d3.scaleLinear()
    .range([0, width - margin.left -margin.right]),
   colorScale = d3.scaleOrdinal(d3.schemeCategory20),
   heightScale = d3.scaleLinear()
    .range([0, height -margin.top - margin.bottom]);
    
    xAxis.append("text")
    .text("Age")
    .attr("dx", width - margin.left -margin.right)
    .attr("dy", -15);
  
    yAxis.append("text")
    .text("Height")
  .attr("transform", "translate(-25," + (height -margin.top - margin.bottom - 15)+ " ) rotate(-90)") ;  

function update(myData) {
// Update the scale to the new maximum
    widthScale.domain([0, d3.max(myData, function (d) { return d.age; })]);
  heightScale.domain([0, d3.max(myData, function (d) { return d.height; })]);

  var ps = chart.selectAll("circle")
    .data(myData);

    // Actions just for new items
    var psEnter =  ps.enter()
    .append("circle")
    .attr("r", r)
    .attr("cx",0);

// Actions for new + updated
  ps.merge(psEnter) 
    .attr("cy", function (d)  { return heightScale(d.height); })
    .style("fill", function (d, i) { return colorScale(d.name); })
    .transition().duration(2000)    
    .attr("cx", function (d) { return widthScale(d.age); });

// Actions for deleted items
  ps.exit().remove();
  
  
  xAxis.call(d3.axisTop(widthScale));
  yAxis.call(d3.axisLeft(heightScale));  
}

</script>
